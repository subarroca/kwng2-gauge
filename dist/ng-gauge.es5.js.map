{"version":3,"file":"ng-gauge.es5.js","sources":["ts/ng-gauge.ts","ts/src/app/gauge/shared/gauge-segment.ts","ts/src/app/gauge/shared/gauge-label.ts","ts/src/app/gauge/gauge.module.ts","ts/src/app/gauge/gauge.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {GaugeModule,GaugeLabel,GaugeSegment} from './index';\n\nexport {GaugeComponent as Éµa} from './src/app/gauge/gauge.component';","\nexport class GaugeSegment {\n  radius: number;\n  goal: number;\n  value: number;\n  color: string;\n  bgColor: string;\n  borderWidth: number;\n/**\n * @param {?=} options\n */\nconstructor(options: {\n    radius?: number,\n    goal?: number,\n    value?: number,\n    color?: string,\n    bgColor?: string,\n    borderWidth?: number\n  } = {}) {\n    this.radius = options.radius || 100;\n    this.goal = options.goal || 100;\n    this.value = options.value;\n    this.color = options.color;\n    this.bgColor = options.bgColor || 'transparent';\n    this.borderWidth = options.borderWidth || 100;\n  }\n/**\n * @return {?}\n */\nget computedRadius() {\n    return this.radius - this.borderWidth / 2;\n  }\n/**\n * @this {?}\n * @return {?}\n */\nget strokeProgress(this: GaugeSegment) {\n    return `${2 * Math.PI * this.computedRadius * this.value / this.goal} ${2 * Math.PI * this.computedRadius}`;\n  }\n/**\n * @this {?}\n * @return {?}\n */\nget strokeEmptyProgress(this: GaugeSegment) {\n    return `0 ${2 * Math.PI * this.computedRadius}`;\n  }\n}\n\nfunction GaugeSegment_tsickle_Closure_declarations() {\n/** @type {?} */\nGaugeSegment.prototype.radius;\n/** @type {?} */\nGaugeSegment.prototype.goal;\n/** @type {?} */\nGaugeSegment.prototype.value;\n/** @type {?} */\nGaugeSegment.prototype.color;\n/** @type {?} */\nGaugeSegment.prototype.bgColor;\n/** @type {?} */\nGaugeSegment.prototype.borderWidth;\n}\n\n","\nexport class GaugeLabel {\n  color: string;\n  text: string;\n  x: number;\n  y: number;\n  fontSize: string;\n/**\n * @param {?=} options\n */\nconstructor(options: {\n    color?: string,\n    text?: string,\n    x?: number,\n    y?: number,\n    fontSize?: string\n  } = {}) {\n    this.color = options.color;\n    this.text = options.text;\n    this.x = options.x || 0;\n    this.y = options.y || 0;\n    this.fontSize = options.fontSize || '1em';\n  }\n}\n\nfunction GaugeLabel_tsickle_Closure_declarations() {\n/** @type {?} */\nGaugeLabel.prototype.color;\n/** @type {?} */\nGaugeLabel.prototype.text;\n/** @type {?} */\nGaugeLabel.prototype.x;\n/** @type {?} */\nGaugeLabel.prototype.y;\n/** @type {?} */\nGaugeLabel.prototype.fontSize;\n}\n\n","/**\n * @category   Module\n * @package    com.kiwity.gauge.gauge\n * @author     Salvador Subarroca (subarroca@gmail.com)\n **/\n\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { GaugeComponent } from './gauge.component';\nexport class GaugeModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [GaugeComponent],\n  exports: [GaugeComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction GaugeModule_tsickle_Closure_declarations() {\n/** @type {?} */\nGaugeModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGaugeModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @category   Component\n * @package    com.kiwity.gauge.gauge\n * @author     Salvador Subarroca (subarroca@gmail.com)\n **/\n\n\nimport { Component, Input, OnInit } from '@angular/core';\n\nimport { GaugeLabel } from './shared/gauge-label';\nimport { GaugeSegment } from './shared/gauge-segment';\nexport class GaugeComponent implements OnInit {\n   bgRadius = 100;\n   bgColor: string;\n   rounded = true;\n   reverse = false;\n   animationSecs = 0.5;\n\n   labels: GaugeLabel[];\n/**\n * @param {?} segments\n * @return {?}\n */\nset segments(segments: GaugeSegment[]) {\n    this.segmentsLoaded = false;\n    this.sortedSegments = this.sortSegments(segments);\n\n    // wait a bit and start animation\n    setTimeout(\n      () => this.segmentsLoaded = true,\n      0);\n  }\n  sortedSegments: GaugeSegment[];\n  segmentsLoaded = false;\n\n  isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() {\n  }\n/**\n * @param {?} segments\n * @return {?}\n */\nsortSegments(segments: GaugeSegment[]) {\n    return segments && segments.sort((a: GaugeSegment, b: GaugeSegment) => {\n      if (this.reverse) {\n        return (a.value / a.goal > b.value / b.goal) ? 1 : -1;\n      } else {\n        return (a.value / a.goal > b.value / b.goal) ? -1 : 1;\n      }\n    });\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ng-gauge',\n  template: `\n    <svg viewBox=\"0 0 200 200\">\n      <g\n        class=kw-holder\n        [attr.transform]=\"isIE11 ? 'translate(100 100) rotate(-90)' : ''\">\n        <circle\n          class=kw-back\n          [attr.r]=\"bgRadius\"\n          [style.fill]=bgColor/>\n\n          <g\n            *ngFor=\"let segment of sortedSegments\">\n            <circle\n              class=kw-mid\n              [style.stroke]=segment.bgColor\n              [style.strokeWidth]=segment.borderWidth\n              [attr.r]=segment.computedRadius/>\n\n              <circle\n                class=kw-front\n\n                [style.transition]=\"'stroke-dasharray ' + animationSecs + 's'\"\n                [style.stroke]=segment.color\n                [style.strokeWidth]=segment.borderWidth\n                [style.strokeDasharray]=\"segmentsLoaded ? segment.strokeProgress : segment.strokeEmptyProgress\"\n                [style.strokeLinecap]=\"rounded ? 'round' : ''\"\n                [attr.r]=segment.computedRadius/>\n          </g>\n      </g>\n\n      <g\n        transform=\"translate(100, 100)\">\n        <text\n          class=kw-label\n          *ngFor=\"let label of labels\"\n          [attr.x]=label.x\n          [attr.y]=label.y\n          [style.fill]=label.color\n          [style.fontSize]=label.fontSize\n          text-anchor=middle>\n          {{label.text}}\n        </text>\n      </g>\n    </svg>\n  `,\n  styles: [`\n    .kw-mid,\n    .kw-front {\n      fill: transparent;\n    }\n\n    .kw-holder {\n      -webkit-transform: translate(100px, 100px) rotate(-90deg);\n              transform: translate(100px, 100px) rotate(-90deg);\n    }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'bgRadius': [{ type: Input },],\n'bgColor': [{ type: Input },],\n'rounded': [{ type: Input },],\n'reverse': [{ type: Input },],\n'animationSecs': [{ type: Input },],\n'labels': [{ type: Input },],\n'segments': [{ type: Input },],\n};\n}\n\nfunction GaugeComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGaugeComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGaugeComponent.ctorParameters;\n/** @type {?} */\nGaugeComponent.propDecorators;\n/** @type {?} */\nGaugeComponent.prototype.bgRadius;\n/** @type {?} */\nGaugeComponent.prototype.bgColor;\n/** @type {?} */\nGaugeComponent.prototype.rounded;\n/** @type {?} */\nGaugeComponent.prototype.reverse;\n/** @type {?} */\nGaugeComponent.prototype.animationSecs;\n/** @type {?} */\nGaugeComponent.prototype.labels;\n/** @type {?} */\nGaugeComponent.prototype.sortedSegments;\n/** @type {?} */\nGaugeComponent.prototype.segmentsLoaded;\n/** @type {?} */\nGaugeComponent.prototype.isIE11;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":";;AIAA;;;;;AAOA;IA6BA;QAxBG,IAAH,CAAA,QAAW,GACG,GAAA,CAAI;QACf,IAAH,CAAA,OAAU,GACG,IAAA,CAAK;QAAf,IAAH,CAAA,OAAU,GACG,KAAA,CAAM;QAAhB,IAAH,CAAA,aAAgB,GACG,GAAA,CAAI;QAgBrB,IAAF,CAAA,cAAgB,GAAG,KAAA,CAAM;QAEvB,IAAF,CAAA,MAAQ,GAAG,sBAAA,CAAuB,IAAC,CAAI,SAAC,CAAS,SAAC,CAAS,CAAC;IAI5D,CAAG;IAhBH,sBAAG,oCAAA;;;;;aAAH,UAAG,QAAA;YAAH,iBAQG;YAPC,IAAI,CAAC,cAAC,GAAgB,KAAA,CAAM;YAC5B,IAAI,CAAC,cAAC,GAAgB,IAAA,CAAK,YAAC,CAAY,QAAC,CAAQ,CAAC;;YAGlD,UAAU,CACR,cAAM,OAAA,KAAA,CAAK,cAAC,GAAgB,IAAA,EAAtB,CAAsB,EAC5B,CAAC,CAAC,CAAC;QACT,CAAG;;;OAAA;;;;IASH,iCACG,GADH;IACA,CAAG;;;;;IAKH,qCAFG,GAEH,UAFG,QAAA;QAEH,iBAQG;QAPC,MAAJ,CAFW,QAAA,IAAY,QAAA,CAAS,IAAC,CAAI,UAAC,CAAG,EAAc,CAAG;YAGpD,EAAN,CAAA,CAAU,KAFC,CAAI,OAAC,CAEhB,CAFwB,CAExB;gBACQ,MAAR,CAFe,CAAA,CAAE,CAAC,KAAC,GAAO,CAAA,CAAE,IAAC,GAAM,CAAA,CAAE,KAAC,GAAO,CAAA,CAAE,IAAC,CAEhD,CAAA,CAAA,CAFuD,CAAA,CAEvD,CAAA,CAF2D,CAAA,CAAE,CAAC;YAG9D,CAAO;YAFP,IAAA,CAAa,CAAb;gBAGQ,MAAR,CAFe,CAAA,CAAE,CAAC,KAAC,GAAO,CAAA,CAAE,IAAC,GAAM,CAAA,CAAE,KAAC,GAAO,CAAA,CAAE,IAAC,CAEhD,CAAA,CAAA,CAFuD,CAAA,CAAE,CAEzD,CAAA,CAF4D,CAAA,CAAE;YAG9D,CAAO;QACP,CAAK,CAFC,CAAC;IAGP,CAAG;;CA/CH;AA8CO,cAAP,CAAA,UAAO,GAAoC;IAG3C,EAFE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAGvB,QAAQ,EAFE,UAAA;gBAGV,QAAQ,EAFE,i4CA8CT;gBACD,MAAM,EAFE,CAAA,qOAYP,CAFC;aAGH,EAFC,EAAG;CAGJ,CAFC;;;;AAED,cAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EAKA,EALA,CAKA,CAAC;AAHK,cAAP,CAAA,cAAO,GAAyD;IAKhE,UAAU,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK7B,SAAS,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK5B,SAAS,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK5B,SAAS,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK5B,eAfE,EAWe,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAKlC,QAAQ,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK3B,UAAU,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;CAK5B,CAJC;AD7HF;;;;;AAOA;IAAA;;;CAAA;AAMkC,WAAlC,CAAA,UAAkC,GAAoC;IADtE,EAEE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBADtB,OAAO,EAEE;oBADP,YAAY;iBACb;gBACD,YAAY,EAEE,CAAA,cAAE,CAAc;gBAD9B,OAAO,EAEE,CAAA,cAAE,CAAc;aAD1B,EAEC,EAAG;CADJ,CAEC;;;;AAED,WAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EACA,EADA,CACA,CAAC;ADvBF;;;;IASA,oBAuBG,OAMG;QANH,wBAAA,EAAA,YAMG;QAtBF,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,KAAK,CAAC;IAC9C,CAAG;IACH,iBAAC;AAAD,CAAC,AAtBD,IAsBC;ADtBD;;;;IAUA,sBAuBG,OAOG;QAPH,wBAAA,EAAA,YAOG;QAtBF,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,GAAG,CAAC;QACpC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,GAAG,CAAC;QAChC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,aAAa,CAAC;QAChD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,IAAI,GAAG,CAAC;IAClD,CAAG;IAIH,sBAuBG,wCAAA;;;;aAvBH;YACI,MAAJ,CAuBW,IAAA,CAAK,MAAC,GAAQ,IAAA,CAAK,WAAC,GAAa,CAAA,CAAE;QAtB9C,CAAG;;;OAAA;IAKH,sBAoBG,wCAAA;;;;;aApBH;YACI,MAAJ,CAoBW,CAAI,GAAG,IAAA,CAAK,EAAC,GAAI,IAAA,CAAK,cAAC,GAAgB,IAAA,CAAK,KAAC,GAAO,IAAA,CAAK,IAAC,SAAI,CAAI,GAAG,IAAA,CAAK,EAAC,GAAI,IAAA,CAAK,cAAe,CAAE;QAnBhH,CAAG;;;OAAA;IAKH,sBAiBG,6CAAA;;;;;aAjBH;YACI,MAAJ,CAiBW,OAAA,CAAM,GAAG,IAAA,CAAK,EAAC,GAAI,IAAA,CAAK,cAAe,CAAE;QAhBpD,CAAG;;;OAAA;IACH,mBAAC;AAAD,CAAC,AA7CD,IA6CC;AD9CD;;GAEG;"}
